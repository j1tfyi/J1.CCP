<!DOCTYPE html>
<html>
<head>
    <title>Video Debug Test</title>
    <style>
        body { background: #000; color: white; padding: 20px; font-family: Arial; }
        video { width: 400px; height: 300px; border: 2px solid white; display: block; margin: 20px 0; }
        .status { padding: 10px; background: #333; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Video Debug Test</h1>
    <div id="status" class="status">Loading...</div>

    <h2>Test 1: Simple video tag with autoplay, muted</h2>
    <video autoplay muted loop playsinline>
        <source src="/stringtitle.mp4" type="video/mp4">
        Your browser does not support video.
    </video>

    <h2>Test 2: React-style attributes</h2>
    <video autoPlay muted loop playsInline>
        <source src="/spaceHD.mp4" type="video/mp4">
        Your browser does not support video.
    </video>

    <h2>Test 3: With controls for manual testing</h2>
    <video controls muted>
        <source src="/space.mp4" type="video/mp4">
        Your browser does not support video.
    </video>

    <script>
        const videos = document.querySelectorAll('video');
        const status = document.getElementById('status');
        let messages = [];

        videos.forEach((video, index) => {
            video.addEventListener('loadstart', () => {
                messages.push(`Video ${index + 1}: Load started`);
                status.innerHTML = messages.join('<br>');
            });

            video.addEventListener('error', (e) => {
                messages.push(`Video ${index + 1}: ERROR - ${e.message || video.error?.message || 'Unknown'}`);
                status.innerHTML = messages.join('<br>');
                console.error('Video error:', e, video.src);
            });

            video.addEventListener('canplay', () => {
                messages.push(`Video ${index + 1}: Can play`);
                status.innerHTML = messages.join('<br>');
            });

            video.addEventListener('playing', () => {
                messages.push(`Video ${index + 1}: Playing`);
                status.innerHTML = messages.join('<br>');
            });
        });

        // Try to play videos after load
        window.addEventListener('load', () => {
            videos.forEach((video, index) => {
                if (video.autoplay || video.hasAttribute('autoplay')) {
                    video.play().then(() => {
                        messages.push(`Video ${index + 1}: Autoplay successful`);
                        status.innerHTML = messages.join('<br>');
                    }).catch(err => {
                        messages.push(`Video ${index + 1}: Autoplay failed - ${err.message}`);
                        status.innerHTML = messages.join('<br>');
                    });
                }
            });
        });
    </script>
</body>
</html>